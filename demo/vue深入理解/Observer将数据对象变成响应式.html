<!DOCTYPE html><html><head><meta http-equiv="Content-type" content="text/html; charset=utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title></title><link href="/demo/vendor.css" rel="stylesheet"><link href="/demo/client.css" rel="stylesheet"></head><body><div id="app"></div><script>window.HtmlCode="",window.CssCode="",window.JsCode="function def (obj, key, val, enumerable) {\n  Object.defineProperty(obj, key, {\n    value: val,\n    enumerable: !!enumerable,\n    writable: true,\n    configurable: true\n  })\n}\nfunction isPlainObject (obj) {\n  return Object.prototype.toString.call(obj) === '[object Object]'\n}\nconst arrayProto = Array.prototype;\nconst arrayMethods = Object.create(arrayProto);\n[\n  'push',\n  'pop',\n  'shift',\n  'unshift',\n  'splice',\n  'sort',\n  'reverse'\n].forEach(\n  function(method) {\n    const original = arrayProto[method];\n    Object.defineProperty(arrayMethods, method, {\n      value: function mutator(...args) {\n        console.log('拦截数据 ' + args);\n        return original.apply(this, args)\n      },\n      enumerable: false,\n      writable: true,\n      configurable: true,\n    })\n  }\n)\nfunction defineReactive(data, key, value) {\n  var childOb = observe(value)\n  Object.defineProperty(data, key, {\n    enumerable: true,\n    configurable: true,\n    get: function() {\n      return value;\n    },\n    set: function(newVal) {\n      if (value === newVal) {\n        return;\n      }\n      console.log(key + ' 改变了')\n      value = newVal;\n      childOb = observe(newVal)\n    }\n  });\n}\n\nfunction Observer (value) {\n  this.value = value\n  def(value, '__ob__', this)\n  if (Array.isArray(value)) {\n    value.__proto__ = arrayMethods;\n    this.observeArray(value)\n  } else {\n    this.walk(value)\n  }\n}\nObserver.prototype.observeArray = function (items) {\n  for (var i = 0, l = items.length; i < l; i++) {\n    observe(items[i])\n  }\n}\nObserver.prototype.walk = function (obj) {\n  var keys = Object.keys(obj)\n  for (var i = 0, l = keys.length; i < l; i++) {\n    defineReactive(this.value, keys[i], obj[keys[i]])\n  }\n}\nfunction observe (value) {\n  if (!value || typeof value !== 'object') {\n    return\n  }\n  var ob\n  if (\n    Object.prototype.hasOwnProperty.call(value, '__ob__') &&\n    value.__ob__ instanceof Observer\n  ) {\n    ob = value.__ob__\n  } else if (\n    (Array.isArray(value) || isPlainObject(value))\n    && Object.isExtensible(value)\n  ) {\n    ob = new Observer(value)\n  }\n  return ob\n}\n\nvar data = {\n  name: 'Jhon',\n  info: {\n    age: 18.\n  },\n  skill: [],\n};\n\nnew Observer(data);\ndata.name = 'Tom';\ndata.skill.push('Write');\ndata.skill = ['1', '2'];\ndata.skill.push('Read');\ndata.info.age = 1;\ndata.info = {\n  sex: 'male'\n};\ndata.info.sex = 'female';",window.JsFold=[0,8,13,54,64,69,75]</script><script type="text/javascript" src="/demo/manifest.js"></script><script type="text/javascript" src="/demo/vendor.js"></script><script type="text/javascript" src="/demo/client.js"></script></body></html>