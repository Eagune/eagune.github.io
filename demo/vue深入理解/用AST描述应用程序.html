<!DOCTYPE html><html><head><meta http-equiv="Content-type" content="text/html; charset=utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title></title><link href="/demo/vendor.css" rel="stylesheet"><link href="/demo/client.css" rel="stylesheet"></head><body><div id="app"></div><script>window.HtmlCode='',window.HtmlFold=[],window.CssCode="",window.CssFold=[],window.JsCode="(function reactive(global) {\n  function Dep(value) {\n    this.subs = [];\n  }\n  Dep.prototype.depend = function() {\n    if (window.target) {\n      this.subs.push(window.target);\n    }\n  }\n  Dep.prototype.notify = function() {\n    this.subs.forEach(sub => {\n      sub.update();\n    })\n  }\n  global.Dep = Dep;\n  \n  function Observer(value) {\n    this.value = value;\n\n    if (!Array.isArray(value)) {\n      this.walk(value);\n    } else {\n      this.dep = new Dep();\n      let instance = this;\n      Object.defineProperty(value, '__ob__', {\n        value: instance,\n        enumerable: false,\n        writable: true,\n        configurable: true,\n      });\n      value.__proto__ = arrayMethods;\n    }\n  }\n  Observer.prototype.walk = function(object) {\n    for (let key in object) {\n      defineReactive(object, key, object[key]);\n    }\n  }\n  global.Observer = Observer;\n\n  function Watcher(vm, key, cb) {\n    this.vm = vm;\n    this.key = key;\n    this.cb = cb;\n    \n    window.target = this;\n    this.value = this.vm[this.key];\n    window.target = undefined;\n    \n    this.cb.call(this.vm, this.value);\n  }\n  Watcher.prototype.update = function() {\n    const oldValue = this.value;\n    this.value = this.vm[this.key];\n    this.cb.call(this.vm, this.value, oldValue);\n  }\n  global.Watcher = Watcher;\n\n  function defineReactive(data, key, value) {\n    let instance;\n    if (typeof value === 'object') {\n      instance = new Observer(value);\n    }\n    let dep = new Dep();\n    Object.defineProperty(data, key, {\n      enumerable: true,\n      configurable: true,\n      get: function() {\n        dep.depend(); \n        if(instance && instance.dep) {\n          instance.dep.depend();\n        }\n        return value;\n      },\n      set: function(newVal) {\n        if (value === newVal) {\n          return;\n        }\n        value = newVal;\n        dep.notify();\n        if (typeof value === 'object') {\n          new Observer(value);\n        }\n      }\n    });\n  }\n  \n  const arrayProto = Array.prototype;\n  const arrayMethods = Object.create(arrayProto);\n  [\n    'push',\n    'pop',\n    'shift',\n    'unshift',\n    'splice',\n    'sort',\n    'reverse'\n  ].forEach(function(method) {\n    const original = arrayProto[method];\n    Object.defineProperty(arrayMethods, method, {\n      value: function mutator(...args) {\n        const result = original.apply(this, args);\n        let dep = this.__ob__.dep;\n        dep.notify();\n        return result;\n      },\n      enumerable: false,\n      writable: true,\n      configurable: true,\n    })\n  })\n})(window);",window.JsFold=[0]</script><script type="text/javascript" src="/demo/manifest.js"></script><script type="text/javascript" src="/demo/vendor.js"></script><script type="text/javascript" src="/demo/client.js"></script></body></html>