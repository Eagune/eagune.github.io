---
title: （五）用模板描述应用程序
date: 2020-04-28 11:03:50
categories:
- vue深入理解
index: 5
tags:
- vue
---
在前面的章节中我们已经知道了通过对数据进行劫持的方式可以让我们以这种通过数据驱动的方式去开发一个应用程序。但是如果全部在Watcher中做控制这样需要写很多重复性的控制视图的代码。

这样显然是很麻烦的，MVVM的核心是在MVC的基础上将view的状态行为抽象化。模板就是用来声明我们应用程序的数据与界面的绑定关系。

看一个例子

``` html
<div id="app">
  <div class="column">
    名称：<span id="name">{{name}}</span>
  </div>
  <div class="column">
    是否成年：<span id="age">{{age >= 18 ? '成年' : '未成年'}}</span>
  </div>
</div>
```

在上述例子中，我们的程序包含了一些判断循环的逻辑在里面，因此一定需要一个图灵完备的语言去实现。所以模板最终会转换成javascript用函数实现，而不是html。

我们可以根据上面的程序编写出对应的js代码
``` javascript
```
<!-- 
``` javascript
{
  type: 1,
  tag: 'div',
  attrsList: [],
  attrsMap: {},
  children: [
    {
      type: 1,
      tag: 'div',
      attrsList: [],
      attrsMap: {},
      children: [
        {
          type: 2,
          text: '名称：',
        },
        {
          type: 1,
          tag: 'span',
          attrsList: [
            {
              name: 'id',
              value: 'name'
            }
          ],
          attrsMap: {
            id: 'name'
          },
          children: [
            {
              type: 2,
              expression: _s(name);
            }
          ]
        }
      ]
    }
  ]
}
``` -->
<!-- 
我们用type表示节点的类型，1表示元素类型的节点，2表示文本类型的节点。对于数据的绑定关系我们使用表达式来表示。

这样我们就把我们希望应用程序需要呈现的一个页面结构以及一些事件数据的绑定关系描述出来了。 -->