<!DOCTYPE html><html><head><meta http-equiv="Content-type" content="text/html; charset=utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title></title><link href="/demo/vendor.css" rel="stylesheet"><link href="/demo/client.css" rel="stylesheet"></head><body><div id="app"></div><script>window.HtmlCode='',window.HtmlFold=[],window.CssCode="",window.CssFold=[],window.JsCode="(function(window, undefined){\n  function TaskQueue() {\n    this.taskList = [];\n    this.isRunning = false;\n  }\n  TaskQueue.prototype.addTask = function(task) {\n    this.taskList.push(task);\n     setTimeout(function(){\n       this.run();\n     }.bind(this), 0);\n  }\n  TaskQueue.prototype.addImportantTask = function(task) {\n    this.taskList.unshift(task);\n    setTimeout(function(){\n       this.run();\n     }.bind(this), 0);\n  }\n  TaskQueue.prototype.run = function() {\n    if(this.isRunning) return;\n    if(this.taskList.length){\n      var task = this.taskList.shift(); \n      this.isRunning = true;\n      task(function() {\n        this.isRunning = false;\n        this.run();\n      }.bind(this));\n    }\n  }\n  \n  function LazyMan(name) {\n    this.taskQueue = new TaskQueue();\n    console.log('My' + name);\n  }\n  LazyMan.prototype.sleep = function(time) {\n    this.taskQueue.addTask(function(resolve) {\n      setTimeout(function(){\n        console.log('Sleep' + time);\n        resolve();\n      }, time* 1000);\n    });\n    return this;\n  }\n  LazyMan.prototype.eat = function(what) {\n    this.taskQueue.addTask(function(resolve) {\n      console.log('Eat ' + what);\n      resolve();\n    });\n    return this;\n  }\n  LazyMan.prototype.sleepFirst = function(time) {\n    this.taskQueue.addImportantTask(function(resolve) {\n      setTimeout(function(){\n        console.log('Sleep' + time);\n        resolve();\n      }, time* 1000);\n    });\n    return this;\n  }\n  \n  window.LazyMan = function(name) {\n    return new LazyMan(name);\n  };\n})(window);\n\nLazyMan('Hank').eat('Dinner').sleepFirst(1);",window.JsFold=[]</script><script type="text/javascript" src="/demo/manifest.js"></script><script type="text/javascript" src="/demo/vendor.js"></script><script type="text/javascript" src="/demo/client.js"></script></body></html>